(function(f,i,l,d){var e={threshold:60,dotColor:"#1cdeb4",frameColor:"rgba(223, 230, 173, 0.18)"},j={},h;positions=["lt","t","rt","r","rb","b","lb","l"];directions=["nw","n","ne","e","se","s","sw","w"];function n(s,r){if(s.data("resizbl")){return}settings=f.extend({},e,r);j.element=s;s.data("resizbl",true);q(s);s.addClass("resizbl");h=f(s.find(".dot"));h.on("mousedown",k)}function o(r){if(!r.data("resizbl")){return}r.data("resizbl",false);r.removeClass("resizbl");r.find(".controls").empty()}function q(s){var r=f("<div>").addClass("controls").css("backgroundColor",settings.frameColor);directions.forEach(function(u,t){r.append(f("<div>").addClass("dot").addClass(positions[t]).attr("data-visual-direction",u))});s.append(r)}function c(B){var E=Math,z=E.floor,x={left:B.pageX,top:B.pageY},r,s,t=0,D=Infinity,y=13,w=settings.threshold,v=10,G=["left","left","right","right","right","left","left","left"],F=["top","top","top","top","bottom","bottom","bottom","top"],C="margin-"+G[t],A="margin-"+F[t];for(var u=0;u<h.length;u++){s=b(x,f(h[u]).offset());if(s<D){D=s;t=u}}h.attr("style","");if(D>w){return}v=2*z(((y/w)*(w-D))/2)+1;r={backgroundColor:settings.dotColor,width:v,height:v};r["margin-"+G[t]]=-z(v/2);r["margin-"+F[t]]=-z(v/2);h.eq(t).css(r)}function b(t,s){var v=Math,w=v.sqrt,u=v.floor,r=t.left-parseInt(s.left),z=t.top-parseInt(s.top);return u(w(r*r+z*z))}function k(s){var r=f(s.target).parents(".resizbl");j.direction=f(s.target).data("visual-direction");j.x=s.clientX;j.y=s.clientY;j.width=parseInt(r.css("width"),10);j.height=parseInt(r.css("height"),10);j.top=parseInt(r.css("top"),10);j.left=parseInt(r.css("left"),10);f(l).on("mousemove",p);f(l).on("mouseup",g);f(l).off(".resizbl",c);s.preventDefault()}function p(r){a(r.clientX,r.clientY)}function a(r,v){var t=j.element,u=j.direction,s={};switch(u){case"nw":case"ne":case"n":s.top=v;s.height=j.height+(j.y-v);break;case"sw":case"se":case"s":s.height=j.height-(j.y-v)}switch(u){case"nw":case"sw":case"w":s.left=r;s.width=j.width-(r-j.x);break;case"se":case"ne":case"e":s.width=j.width+(r-j.x)}t.css(s)}function g(){f(l).off("mousemove",p);f(l).off("mouseup",g);f(l).on("mousemove.resizbl",c)}var m={init:function(r){n(this,r);return this.each(function(){f(l).on("mousemove.resizbl",c)})},destroy:function(){o(this);return this.each(function(){f(l).off(".resizbl",c)})},show:function(){if(!this.data("resizbl")){return}this.find(".controls").show()},hide:function(){if(!this.data("resizbl")){return}this.find(".controls").hide()},update:function(r){}};f.fn.resizbl=function(r){if(m[r]){return m[r].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof r==="object"||!r){return m.init.apply(this,arguments)}else{f.error('there is no "'+r+'" method in jQuery.resizbl')}}}})(jQuery,window,document);$(function(){$(".some-element").resizbl()});